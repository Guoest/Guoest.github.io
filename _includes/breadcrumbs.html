{% comment %}
Breadcrumb navigation with structured data for SEO
Automatically generates breadcrumbs based on page URL
{% endcomment %}

{% assign crumbs = page.url | split: '/' %}
{% assign crumb_path = "" %}

<nav aria-label="Breadcrumb" class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <!-- Home breadcrumb -->
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{{ site.url }}">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>

    {% for crumb in crumbs offset: 1 %}
      {% if crumb != "" %}
        {% assign crumb_path = crumb_path | append: '/' | append: crumb %}
        {% assign position = forloop.index | plus: 1 %}

        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          {% if forloop.last %}
            <span itemprop="name">{{ page.title | default: crumb | capitalize }}</span>
          {% else %}
            <a itemprop="item" href="{{ site.url }}{{ crumb_path }}">
              <span itemprop="name">{{ crumb | capitalize | replace: '-', ' ' }}</span>
            </a>
          {% endif %}
          <meta itemprop="position" content="{{ position }}" />
        </li>
      {% endif %}
    {% endfor %}
  </ol>
</nav>

<style>
  .breadcrumbs {
    margin: 1rem 0;
    padding: 0.75rem 0;
    font-size: 0.9rem;
  }

  .breadcrumbs ol {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .breadcrumbs li:not(:last-child)::after {
    content: "â€º";
    margin-left: 0.5rem;
    color: #718096;
  }

  .breadcrumbs a {
    color: #3182ce;
    text-decoration: none;
  }

  .breadcrumbs a:hover {
    text-decoration: underline;
  }

  .breadcrumbs li:last-child span {
    color: #4a5568;
  }

  [data-theme="dark"] .breadcrumbs a {
    color: #63b3ed;
  }

  [data-theme="dark"] .breadcrumbs li:last-child span {
    color: #a0aec0;
  }

  [data-theme="dark"] .breadcrumbs li:not(:last-child)::after {
    color: #4a5568;
  }
</style>
